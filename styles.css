/* START: Base Reset + Theme */
*, *::before, *::after { box-sizing: border-box; }
html, body { margin: 0; padding: 0; height: 100%; }
body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji"; color: #0f172a; background:#0b1020; }
:root{
  --bg: #0b1020;
  --panel: #0e1428;
  --ink: #e6ecff;
  --muted: #9fb0ff;
  --accent: #7aa2ff;
  --line: #1a223d;
  --ok: #60d394;
  --warn:#f5a524;
  --danger:#ef476f;
  --soft: rgba(255,255,255,0.06);
  --soft-2: rgba(255,255,255,0.12);
  --blinkDur: 120ms;  /* Blink Transition */
}
/* END: Base Reset + Theme */

/* START: Layout Shell (Grid + Flex mix) */
#app { min-height: 100dvh; display: grid; grid-template-rows: auto 1fr auto; }
nav { position: sticky; top: 0; z-index: 40; background: linear-gradient(180deg, #0c142c, #0b1020); border-bottom: 1px solid var(--line); }
.nav-wrap{ max-width:1200px; margin:0 auto; padding:12px 16px; display:flex; align-items:center; gap:16px; }
.brand{ font-weight:700; letter-spacing:.4px; color:var(--ink); }
.nav-links{ margin-left:auto; display:flex; gap:12px; flex-wrap:wrap; }
.nav-links a{ color:var(--muted); text-decoration:none; padding:8px 12px; border-radius:10px; background:var(--soft); border:1px solid transparent; }
.nav-links a:hover{ border-color:var(--soft-2); color:var(--ink); }

main{ max-width:1200px; margin:0 auto; padding:20px 16px 80px; display:grid; grid-template-columns: 1.2fr .8fr; gap:20px; }
@media (max-width: 980px){ main{ grid-template-columns:1fr; } }

/* Panels */
.panel{ background:linear-gradient(180deg, #0f1631, #0b1020); border:1px solid var(--line); border-radius:16px; overflow:hidden; }
.panel-header{ padding:14px 16px; border-bottom:1px solid var(--line); display:flex; align-items:center; justify-content:space-between; }
.panel-header h2{ margin:0; font-size:14px; font-weight:600; color:var(--muted); letter-spacing:.3px; }
.panel-body{ padding:16px; }

/* END: Layout Shell (Grid + Flex mix) */

/* START: Chat Feel Talk (hero) */
#chatFeelTalk{ display:flex; flex-direction:column; min-height:520px; }
.chat-stream{ flex:1; display:flex; flex-direction:column; gap:10px; overflow:auto; padding-right:4px; }
.msg{ max-width:84%; padding:10px 12px; border-radius:12px; border:1px solid var(--line); background:var(--panel); color:var(--ink); line-height:1.35; }
.msg.you{ align-self:flex-end; background:#152046; }
.msg.rw2{ align-self:flex-start; border-left:2px solid var(--accent); }
.soft-label{ font-size:11px; color:var(--muted); opacity:.9; }
.chat-input{ display:flex; gap:10px; padding-top:8px; border-top:1px dashed var(--line); }
.chat-input input{ flex:1; background:#0e1634; border:1px solid var(--line); color:var(--ink); border-radius:10px; padding:10px 12px; outline:none; }
.chat-input button{ background:var(--accent); color:#0b1020; border:0; padding:10px 14px; border-radius:10px; font-weight:700; cursor:pointer; }
.chat-input button:hover{ filter:brightness(1.05); }

/* Micro-commitment bar (wizard-lite) */
.micro{ display:flex; gap:8px; flex-wrap:wrap; margin:8px 0 0; }
.chip{ font-size:12px; padding:6px 10px; border-radius:999px; background:var(--soft); color:var(--ink); border:1px solid var(--line); cursor:pointer; }
.chip[aria-pressed="true"]{ background:#17224a; border-color:#243061; }

/* END: Chat Feel Talk */

/* START: Broadcast (Component Zone grid 25/25/25/25) */
#broadcast .panel-body{ padding:0; }
.component-grid{ display:grid; grid-template-columns: repeat(4, 1fr); gap:12px; padding:12px; }
@media (max-width: 1100px){ .component-grid{ grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 640px){ .component-grid{ grid-template-columns: 1fr; } }

.component{ background:linear-gradient(180deg, #10183a, #0c1330); border:1px solid var(--line); border-radius:14px; padding:14px; min-height:120px; display:flex; flex-direction:column; gap:8px; opacity:1; transform:translateY(0); }
.component.hidden{ display:none; }
.component .h{ font-size:16px; font-weight:700; color:var(--ink); }
.component .sub{ font-size:13px; color:var(--muted); }
.component .cta{ margin-top:auto; align-self:flex-start; padding:8px 12px; font-size:12px; border-radius:10px; border:1px solid var(--line); background:var(--soft); color:var(--ink); cursor:pointer; }

/* Reveal effects */
.fade-in{ animation: fadeIn var(--blinkDur) ease-out; }
@keyframes fadeIn { from { opacity:0; transform:translateY(6px);} to { opacity:1; transform:translateY(0);} }

/* Blink Transition (screen-level) */
.blink { animation: blink var(--blinkDur) ease-in-out; }
@keyframes blink { 0%{ opacity:1 } 40%{ opacity:.2 } 100%{ opacity:1 } }

/* Footer */
footer{ border-top:1px solid var(--line); color:var(--muted); }
.foot{ max-width:1200px; margin:0 auto; padding:18px 16px; font-size:12px; display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap; }

/* Utility */
.sr-only{ position:absolute; width:1px; height:1px; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); }
.row{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; }
